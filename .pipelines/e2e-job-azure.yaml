trigger: none

pr:
  branches:
    include:
    - master
  paths:
    exclude:
      - docs/*

pool:
  vmImage: ubuntu-latest

jobs:
  - job: AKS Version
    steps:
    - template: templates/aks-version.yaml    
  
  - template: e2e-tests-template.yaml
    parameters:
      clusterTypes:
      - "aks"
      - "aks-engine"
      osTypes:
      - "linux"
      - "windows"
      testClusterUpgrade: true
      aksInstallVersion: $(AKS_INSTALL_VERSION)
      aksUpgradeVersions:
      - $(AKS_UPGRADE_VERSION_1)
      - $(AKS_UPGRADE_VERSION_2)
